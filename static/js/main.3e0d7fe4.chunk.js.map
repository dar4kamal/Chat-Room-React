{"version":3,"sources":["App.js","index.js"],"names":["App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onMsgChange","e","console","log","target","value","setState","userMsg","onUserNameChange","userName","onUserSubmit","state","preventDefault","userSet","onSendMsg","_this$state","socket","data","refs","msg","emit","chats","endpoint","socketIOClient","_this2","_this$state2","on","push","chatScroll","document","getElementById","scrollTop","scrollHeight","clientHeight","_this$state3","react_default","a","createElement","className","id","map","chat","key","style","paddingLeft","color","type","disabled","ref","placeholder","onChange","onClick","onSubmit","Component","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.3e0d7fe4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      chats: [],\r\n      // endpoint: \"http://127.0.0.1:4001/\",\r\n      // endpoint: \"https://yhlu9.sse.codesandbox.io/\",\r\n      endpoint: \"https://chat-room-backend-9646.herokuapp.com/\",\r\n      socket: false,\r\n      userSet: false\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { endpoint } = this.state;\r\n    const socket = socketIOClient(endpoint);\r\n    this.setState({ socket: socket });\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { socket, chats } = this.state;\r\n    socket.on(\"Talk\", data => {\r\n      chats.push(data);\r\n      this.setState({ chats: chats });\r\n    });\r\n  }\r\n\r\n  componentWillUpdate() {\r\n    const chatScroll = document.getElementById(\"chatScroll\");\r\n    chatScroll.scrollTop = chatScroll.scrollHeight - chatScroll.clientHeight;\r\n  }\r\n\r\n  onMsgChange = e => {\r\n    console.log(\"Msg\", e.target.value);\r\n    this.setState({ userMsg: e.target.value });\r\n  };\r\n\r\n  onUserNameChange = e => {\r\n    console.log(\"User\", e.target.value);\r\n    this.setState({ userName: e.target.value });\r\n  };\r\n\r\n  onUserSubmit = e => {\r\n    const { userName } = this.state;\r\n    e.preventDefault();\r\n    console.log(\"User\", userName);\r\n    this.setState({ userSet: true });\r\n  };\r\n\r\n  onSendMsg = () => {\r\n    console.log(\"Button Clicked\");\r\n    const { socket, userMsg, userName } = this.state;\r\n    if (userMsg && userName) {\r\n      const data = {\r\n        userMsg: userMsg,\r\n        userName: userName\r\n      };\r\n      this.refs.msg.value = \"\";\r\n      this.setState({ userMsg: \"\" });\r\n      socket.emit(\"Talk\", data);\r\n    }\r\n  };\r\n  render() {\r\n    const { chats, userSet, userName } = this.state;\r\n    return (\r\n      <div>\r\n        <div className=\"App\" id=\"chatScroll\">\r\n          <div className=\"flex-container\">\r\n            {chats ? (\r\n              chats.map((chat, id) => {\r\n                return (\r\n                  <div key={id} style={{ paddingLeft: 10 }}>\r\n                    <p style={{ color: \"#575ed8\" }}>\r\n                      <span id=\"chatUser\">{chat.userName}</span> :{\" \"}\r\n                      <span id=\"chatMsg\">{chat.userMsg}</span>\r\n                    </p>\r\n                  </div>\r\n                );\r\n              })\r\n            ) : (\r\n              <p> L O A D I N G ....</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div id=\"footer\">\r\n          {userSet ? (\r\n            <div>\r\n              <div className=\"input-container\">\r\n                <input\r\n                  className=\"msg\"\r\n                  id=\"user\"\r\n                  type=\"text\"\r\n                  value={userName}\r\n                  disabled={true}\r\n                />\r\n                <input\r\n                  ref=\"msg\"\r\n                  className=\"msg\"\r\n                  type=\"text\"\r\n                  placeholder=\"Message\"\r\n                  onChange={this.onMsgChange}\r\n                />\r\n              </div>\r\n              <button onClick={this.onSendMsg}>Send </button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"input-container\">\r\n                <form onSubmit={this.onUserSubmit}>\r\n                  <input\r\n                    className=\"msg\"\r\n                    type=\"text\"\r\n                    placeholder=\"User Name\"\r\n                    onChange={this.onUserNameChange}\r\n                  />\r\n                </form>\r\n                <input\r\n                  ref=\"msg\"\r\n                  type=\"text\"\r\n                  className=\"msg\"\r\n                  placeholder=\"Message\"\r\n                  onChange={this.onMsgChange}\r\n                />\r\n              </div>\r\n              <button onClick={this.onSendMsg}>Send </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}